;;界面处理
;;选择新砂轮时:DR[1]=DR[0]
G90 G01 Z=SAFE[0] F5000;Z轴快速移动到安全位置
G90 G01 X=DR[1]-10 F=3000;砂轮开到安全位置
G90 G01 Z=JiZhun[1] F=5000;金刚滚轮到位
G90 G01 X=DR[1]-1 F=3000
G90 G01 X=DR[1]-0.1 F=500
STOPRE
;;粗修
PRO_DR[0]=PRO_DR[3];进到量
PRO_DR[1]=PRO_DR[4];次数
PRO_DR[2]=PRO_DR[5];速度
WHILE (DR[5]>DR[2]);如果当前砂轮直径大于砂轮最大可用直径
    IF (DR[5]-DR[2])>=2*PRO_DR[0]
        DR[1]=DR[1]+PRO_DR[0]
    ELSE
        DR[1]=DR[1]+(DR[5]-DR[2])/2
    ENDIF
    G90 G01 X=DR[1] F=PRO_DR[2]
    G04 F=DR[7]
    DR[5]=ABS((JiZhun[0]-DR[1])*2);计算当前砂轮直径
    G91 G01 X=-0.1 F500
    G04 F0.1
    STOPRE
ENDWHILE
STOPRE
WHILE(PRO_DR[1]>0)
    DR[1]=DR[1]+PRO_DR[0]
    G90 G01 X=DR[1] F=PRO_DR[2]
    G04 F=DR[7]
    DR[5]=ABS((JiZhun[0]-DR[1])*2);计算当前砂轮直径
    PRO_DR[1]=PRO_DR[1]-1
    G91 G01 X=-0.1 F500
    G04 F0.1
    STOPRE
ENDWHILE
;;精修
PRO_DR[0]=PRO_DR[6];进到量
PRO_DR[1]=PRO_DR[7];次数
PRO_DR[2]=PRO_DR[8];速度
STOPRE
WHILE(PRO_DR[1]>0)
    DR[1]=DR[1]+PRO_DR[3]
    G90 G01 X=DR[1] F=PRO_DR[5]
    G04 F=DR[7]
    DR[5]=ABS((JiZhun[0]-DR[1])*2);计算当前砂轮直径
    PRO_DR[1]=PRO_DR[1]-1
    G91 G01 X=-0.1 F500
    G04 F0.1
    STOPRE
ENDWHILE